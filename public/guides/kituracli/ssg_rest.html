<html lang="en">

<head>
  <title>Learn - Exposing Models over REST</title>
  <link rel="icon" type="image/png" href="../../assets/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="../../assets/favicon-16x16.png" sizes="16x16" />
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../../css/reset.css">
  <link rel="stylesheet" href="../../css/main.css">
  <link rel="stylesheet" href="../../css/guides.css">
  <link rel="stylesheet" media="screen and (max-width: 900px)" href="../../css/mobile_guides.css">
</head>

<header>
  <div class="header-container">
    <div class="header-main">
      <a class="home-link" href="../../index.html">
        <img class="header-logo" src="../../assets/kitura-logo.png" alt="Kitura logo">
        <h1 class="header-title">KITURA</h1>
      </a>
    </div>
    <nav class="header-nav">
      <a class="header-link active-nav" href="../../learn.html">LEARN</a>
      <a class="header-link" href="../../packages.html">CONTRIBUTE</a>
      <a class="header-link" href="../../events.html">MEET</a>
      <a class="header-link" href="../../help.html">SUPPORT</a>
    </nav>
  </div>
</header>
<body>
  <section class="guide-content">
    <div class="title-block">
        <img width="480px" src="../../assets/Kitura.svg" alt="Kitura Logo">
      <h1>EXPOSING SWIFT SERVER GENERATOR MODELS OVER REST</h1>
    </div>
    <p>Swift Server Generator models automatically have a standard set of HTTP endpoints that provide REST APIs for create, read, update and delete (CRUD) operations on model data.</p>
    <h2>REST paths</h2>
    <p>The REST APIs are mounted to the plural model name in the Model definition JSON file. For example, a model named location with plural locations has its REST API mounted on /api/locations.</p>
    <p>The REST API is as follows:</p>
    <table>
      <thead>
        <tr>
          <th>Operation</th>
          <th>OpenAPI (Swagger 2.0) operationID</th>
          <th>HTTP method</th>
          <th>Path</th>
          <th>Corresponding SQL</th>
          <th>Example path</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Create</td>
          <td>create</td>
          <td>POST</td>
          <td>/api/{modelPlural}</td>
          <td>INSERT</td>
          <td>/api/locations</td>
        </tr>
        <tr>
          <td>Index</td>
          <td>findAll</td>
          <td>GET</td>
          <td>/api/{modelPlural}</td>
          <td>SELECT</td>
          <td>/api/locations</td>
        </tr>
        <tr>
          <td>Delete (destroy)</td>
          <td>deleteAll</td>
          <td>DELETE</td>
          <td>/api/{modelPlural}</td>
          <td>DELETE</td>
          <td>/api/locations</td>
        </tr>
        <tr>
          <td>Read</td>
          <td>findOne</td>
          <td>GET</td>
          <td>/api/{modelPlural}/{id}</td>
          <td>SELECT</td>
          <td>/api/locations/1</td>
        </tr>
        <tr>
          <td>Update (modify)</td>
          <td>update</td>
          <td>PATCH</td>
          <td>/api/{modelPlural}/{id}</td>
          <td>UPDATE</td>
          <td>/api/locations/1</td>
        </tr>
        <tr>
          <td>Update (modify)</td>
          <td>replace</td>
          <td>PUT</td>
          <td>/api/{modelPlural}/{id}</td>
          <td>UPDATE</td>
          <td>/api/locations/1</td>
        </tr>
        <tr>
          <td>Delete (destroy)</td>
          <td>delete</td>
          <td>DELETE</td>
          <td>/api/{modelPlural}/{id}</td>
          <td>DELETE</td>
          <td>/api/locations/1</td>
        </tr>
      </tbody>
    </table>
    <h3>Request format</h3>
    <p>For POST, PUT and PATCH requests, the request body is in JSON format, and the Content-Type header set to application/json.</p>
    <h3>Response format</h3>
    <p>The response format for all requests is typically a JSON object/array in the body, and a set of headers. Some responses have an empty body.</p>
    <p>For example:</p>
    <code>
      <pre>
Date: Tue, 15 Nov 2016 11:13:07 GMT
Content-Type: application/json
Content-Length: 59
Connection: Keep-Alive
Keep-Alive: timeout=60, max=99
[
  {
    "title":"MyNote",
    "content":"This is my first note",
    "id":"1":
  }
]</pre>
    </code>
    <p>The HTTP status code indicates whether a request succeeded, as follows:</p>
    <table>
      <thead>
        <tr>
          <th>Status code</th>
          <th>Meaning</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>2xx</td>
          <td>Success</td>
        </tr>
        <tr>
          <td>4xx</td>
          <td>There are problems with the request</td>
        </tr>
        <tr>
          <td>5xx</td>
          <td>There are server-side problems</td>
        </tr>
      </tbody>
    </table>
    <p>The response for an error is in the following JSON format:</p>
    <code>error: {String_error_message}</code>
    <p>For example:</p>
    <code>
      <pre>
{
  "error": "Provided value (1234) for property 'type' has type (number) which is not compatible with the property type (string)"
}</pre>
    </code>
  </section>
  <section class="slack-help">
    <a href="http://slack.kitura.io/">
      <img width="80px" src="../../assets/slack-icon.png" alt="Slack icon">
      <h2>NEED HELP?</h2>
      <h2>MESSAGE US ON SLACK.</h2>
    </a>
  </section>
</body>
<footer>

  <nav class="footer-nav">
    <a class="footer-link" href="https://forums.swift.org/c/related-projects/kitura">FORUMS</a>
    <a class="footer-link" href="https://github.com/IBM-Swift/Kitura"><img class="footer-logo" src="../../assets/Kitura-White.svg" alt="Kitura logo"></a>
    <a class="footer-link" href="https://developer.ibm.com/swift/blogs/">BLOGS</a>
  </nav>
</footer>
</html>
