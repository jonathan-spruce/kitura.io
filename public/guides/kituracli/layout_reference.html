<html lang="en">

<head>
  <title>Learn - Layout Reference</title>
  <link rel="icon" type="image/png" href="../../assets/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="../../assets/favicon-16x16.png" sizes="16x16" />
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="../../css/reset.css">
  <link rel="stylesheet" href="../../css/main.css">
  <link rel="stylesheet" href="../../css/guides.css">
  <link rel="stylesheet" media="screen and (max-width: 900px)" href="../../css/mobile_guides.css">
</head>

<header>
  <div class="header-container">
    <div class="header-main">
      <a class="home-link" href="../../index.html">
        <img class="header-logo" src="../../assets/kitura-logo.png" alt="Kitura logo">
        <h1 class="header-title">KITURA</h1>
      </a>
    </div>
    <nav class="header-nav">
      <a class="header-link active-nav" href="../../learn.html">LEARN</a>
      <a class="header-link" href="../../packages.html">CONTRIBUTE</a>
      <a class="header-link" href="../../events.html">MEET</a>
      <a class="header-link" href="../../help.html">SUPPORT</a>
    </nav>
  </div>
</header>
<body>
  <section class="guide-content">
    <div class="title-block">
        <img width="480px" src="../../assets/Kitura.svg" alt="Kitura Logo">
      <h1>SWIFT SERVER GENERATOR PROJECT LAYOUT REFERENCE</h1>
    </div>
    <p>Swift Server Generator generates applications in a layout compatible with Swift Package Manager.</p>
    <p>The files that populate the application directory depend on the project type, capabilities and services selected during creation.</p>
    <h2>Common files</h2>
    <p>The following structure is common to all generated applications:</p>
    <code>
      <pre>
├── LICENSE                           - MIT license for the generated code
├── Sources/                          - Swift source code for the project
│   ├── Application/                  - Swift module for application logic
│   │   └── Application.swift         - Swift code for application logic
│   │   └── InitializationError.swift - Swift code for initialization error
│   └── <application_name>/           - Swift module for executable
│       └── main.swift                - Swift code for executable
├── Tests/                            - Swift source code for the tests
│   ├── ApplicationTests/             - Swift test module
│   │   └── RouteTests.swift          - Swift code for the test implementation
│   └── LinuxMain.swift               - Swift test definition for Linux
├── Package.swift                     - Swift Package Manager configuration file
├── Package.resolved                  - Swift Package Manager resolved packages
├── spec.json                         - Generator specification file for the project</pre>
    </code>
    <p>There are also a number of hidden files included in all generated applications:</p>
    <code>
      <pre>
├── .gitignore                      - Defines files that should not be added to Git
├── .swift-version                  - Defines the Swift version for this project
├── .swiftservergenerator-project   - Marks this as a Swift Server Generator project
├── .yo-rc.json                     - Yeoman generator configuration file</pre>
    </code>
    <blockquote class="info">
      <p>.swiftservergenerator-project and .yo-rc.json are files used by the generator to know where the root of your project is and what kind of project you have. If you don’t need to do any further modifications after initial project generation (such as using the model generator), use the single shot option.</p>
    </blockquote>
    <h2>Build files</h2>
    <p>The following are created when the application is built (by swift build):</p>
    <code>
      <pre>
├── Packages/                       - Swift source code for resolved dependencies
├── .build/                         - Build metadata, libraries and executables
├── {application_name}.xcodeproj    - Xcode project file</pre>
    </code>
    <h2>Scaffolded project</h2>
    <p>The following subsections apply to the scaffold project type. All scaffolded projects will have the following files included:</p>
    <code>
      <pre>
├── README.md                       - Default documentation for the generated project
├── Sources/
│   └── Application/
│       └── Routes/                 - Directory for organising route handler code</pre>
    </code>
    <h3>README</h3>
    <p>The README.md file contains customized documentation about the contents of the generated application including selected capabilities and services.</p>
    <h3>Swift Metrics</h3>
    <p>If you select the embedded metrics dashboard then the following file will be included in the scaffolded project:</p>
    <code>
      <pre>
├── Sources/                          - Swift source code for the project
│   └── Application/                  - Swift module for application logic
│       └── Metrics.swift             - Swift code for Swift Metrics logic</pre>
    </code>
    <h3>Web capability</h3>
    <p>If you select the web capability then the following files will be included in the scaffolded project:</p>
    <code>├── public/                         - Directory whose contents is served on /</code>
    <h3>OpenAPI / Swagger endpoint capability</h3>
    <p>If you select the Swagger endpoint capability then the following files will be included in the scaffolded project:</p>
    <code>
      <pre>
├── Sources/
│   └── Application/
│       └── Routes/
│           └── SwaggerRoute.swift  - Swift code for OpenAPI definition endpoint</pre>
    </code>
    <h3>Example endpoints capability</h3>
    <p>If you select the example endpoints capability then the following files will be included in the scaffolded project:</p>
    <code>
      <pre>
├── Sources/
│   └── Application/
│       └── Routes/
│           └── ProductRoutes.swift - Swift code for example endpoints
├── definitions/
│   └── {application_name}.yaml     - Swagger definition for example API</pre>
    </code>
    <h3>Endpoints from swagger file</h3>
    <p>If you select endpoints from swagger file then the following files will be included in the scaffolded project:</p>
    <code>
      <pre>
├── Sources/
│   └── Application/
│       └── Routes/
│           └── {route_name}Routes.swift - Swift code for generated API endpoints
├── definitions/
│   └── {application_name}.yaml          - Swagger definition for generated API</pre>
    </code>
    <h3>Both Web capability and Example endpoints capability</h3>
    <p>If both web capability and example endpoints capability are selected then SwaggerUI will be added to the project in the following location:</p>
    <code>
      <pre>
├── public/
│   └── explorer/                   - SwaggerUI</pre>
    </code>
    <h3>Docker capability</h3>
    <p>If you select the docker capability then the following files will be included in the scaffolded project:</p>
    <code>
      <pre>
├── Dockerfile                      - Docker spec for an image to run the application
├── Dockerfile-tools                - Docker spec for an image to build the application
├── .dockerignore                   - Defined files to ignore for building images
├── chart/
│   └── {application_name}/
│       ├── Chart.yaml              - A Helm chart for Kubernetes
│       ├── values.yaml             - IBM Cloud values for Kubernetes
│       └── templates/
│           ├── deployment.yaml     - Kubernetes deployment configuration
│           ├── hpa.yaml            - Kubernetes scaling configuration
│           └── service.yaml        - Kubernetes service configuration</pre>
    </code>
    <h3>Server SDK generation</h3>
    <p>If you select the Server SDK generation then the following files will be included in the scaffolded project:</p>
    <code>
      <pre>
├── Sources/
│   └── {generated_name}_API_ServerSDK/
│       └── Routes/
│           ├── {generated_name}_API_ServerSDKUtility.swift - Swift server SDK helper methods
│           ├── {generated_name}API.swift                   - Swift server SDK API code
│           └── {generated_name}.swift                      - Swift server SDK object wrapper</pre>
    </code>
    <h3>IBM Cloud</h3>
    <p>IBM Cloud core files are included by default. The following files are common to all generated applications:</p>
    <code>
      <pre>
├── manifest.yml                      - CloudFoundry deployment manifest file
├── cli-config.yml                    - IBM Cloud Dev Tools CLI configuration file
├── .cfignore                         - Defines files to be ignored for deployment
├── .bluemix/                         - IBM Cloud pipeline and toolchain files
│   ├── toolchain.yml                 - IBM Cloud toolchain configuration file
│   ├── pipeline.yml                  - IBM Cloud pipeline configuration file
│   ├── deploy.json                   - IBM Cloud toolchain UI configuration file
│   └── scripts/                      - Scripts for Kubernetes
│        ├── container_build.sh       - Script to build a Kubernetes container
│        └── kube_deploy.sh           - Script to deploy to a Kubernetes container</pre>
    </code>
    <h3>Cloud Services</h3>
    <p>If you select an IBM Cloud service, then the following files will be included in the scaffolded project:</p>
    <code>
      <pre>
├── Sources/
│   └── Application/
│       └── Services/
│            └── <service_name>.swift - Swift connector to an IBM Cloud Service
├── config/
│   ├── localdev-config.json          - IBM Cloud service configuration file
│   └── mappings.json                 - Service configuration mappings file</pre>
    </code>
    <h2>CRUD project</h2>
    <p>The following section applies to the CRUD project type. CRUD projects will have the following files included:</p>
    <code>
      <pre>
├── Sources/
│   ├── Application/
│   │   └── Routes/
│   │       └── SwaggerRoute.swift  - Swift code for OpenAPI definition endpoint
│   └── Generated/                  - Generated Swift code for CRUD API logic
│       ├── AdapterFactory.swift    - Swift code to select CRUD data store adapter
│       ├── AdapterError.swift      - Swift code for the store adapter error types
│       ├── ModelError.swift        - Swift code for the model error types
│       └── CRUDResources.swift     - Swift code to organise CRUD model logic
├── definitions/
│   └── {application_name}.yaml     - Swagger definition for CRUD API
├── models/                         - Data model metadata files</pre>
    </code>
    <blockquote class="warning">
      <p>Files inside the Sources/Generated directory should not be modified as they are regenerated regularly and any modifications will be lost.</p>
    </blockquote>
    <h3>Models</h3>
    <p>For each model created using the model generator the following files will be included:</p>
    <code>
      <pre>
├── Sources/
│   └── Generated/
│       ├── {Model_name}.swift                   - Swift code for defining the model
│       ├── {Model_name}Resource.swift           - Swift code for model endpoints
│       ├── {Model_name}Adapter.swift            - Swift protocol for model storage
│       └── {Model_name}{StoreType}Adapter.swift - Swift code for model storage
├── models/
│   └── <model_name>.json                        - Model metadata file
      </pre>
    </code>
    <blockquote class="warning">
      <p>Model names entered into the model generator are used in a number of places in the generated project. They are used verbatim as filenames for the .json model files, and as endpoint paths in the application router and API definition. In the generated Swift code, Model names are converted to Swift classnames, using a simple transform that attempts to make them comply with the Swift specifications for Identifiers. In addition, the convention that Swift class names start with an uppercase letter is applied, unless the model name starts with an underscore character (_).</p>
    </blockquote>
  </section>
  <section class="slack-help">
    <a href="http://slack.kitura.io/">
      <img width="80px" src="../../assets/slack-icon.png" alt="Slack icon">
      <h2>NEED HELP?</h2>
      <h2>MESSAGE US ON SLACK.</h2>
    </a>
  </section>
</body>
<footer>

  <nav class="footer-nav">
    <a class="footer-link" href="https://forums.swift.org/c/related-projects/kitura">FORUMS</a>
    <a class="footer-link" href="https://github.com/IBM-Swift/Kitura"><img class="footer-logo" src="../../assets/Kitura-White.svg" alt="Kitura logo"></a>
    <a class="footer-link" href="https://developer.ibm.com/swift/blogs/">BLOGS</a>
  </nav>
</footer>
</html>
